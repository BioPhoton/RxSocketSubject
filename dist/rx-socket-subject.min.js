(function(){function c(p,f){this.message=p;f&&(this.code=f)}function u(p,f,g){function l(b,h){a&&(g&&(g.a(),g.b()),b?a.close(b,h):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var m=window.WebSocket,a,c=new Rx.g(function(b){function h(){b.b()}function d(a){b.d(a)}function g(a){b.a(a)}function c(b){f.a(b);f.b();a.removeEventListener("open",c,!1)}a=new m(p);f&&a.addEventListener("open",c,!1);a.addEventListener("message",g,!1);a.addEventListener("error",
d,!1);a.addEventListener("close",h,!1);return function(){l();a.removeEventListener("message",g,!1);a.removeEventListener("error",d,!1);a.removeEventListener("close",h,!1)}}),n=Rx.e.create(function(b){a.readyState===m.OPEN&&a.send(b)},function(b){var a="unknown reason",d=1008;"string"===typeof b?a=b:"object"===typeof b&&(a=b.reason||b.message,d=b.code||d);l(d,a)},l);return Rx.f.create(n,c)}c.prototype={constructor:c,message:"",code:1008};var q=Rx.f,t=Rx.k,w=Rx.e,e={create:function(c,f,g,l,m,a){function e(){k||
(r=t.create(function(a){var e=Array.isArray(c)?c[v++%c.length]:c,e=u(e,w.create(function(a){d=!0;for(f&&f.a(a);0<h.length;)a=h.shift(),b.a(a)}),l),k=new Rx.j(e.c(function(b){a.a(b)},function(b){g&&g.a(b);d=!1;a.d(b)},function(){m&&m.a();d=!1;a.b()}),b.c(e));return function(){d=!1;k.dispose()}}).n(a)["do"](function(){},function(){k=!1},function(){k=!1}).l().m(),k=!0);return r}var n=new q,b=new q,h=[],d=!1;n.c(function(a){d?b.a(a):h.push(a)},function(a){b.d(a)},function(){b.b()});var v=0,r,k=!1,x=t.create(function(a){return e().c(a)});
return q.create(n,x)},h:1008,i:c};"function"===typeof define&&define.amd?define(function(){return e}):"undefined"!==typeof module&&module.exports?module.exports=e:"undefined"!==typeof this&&(this.RxSocketSubject=e)}).call(this);
