(function(){var f={WebSocket:window.WebSocket},k=Rx.f,d={create:function(c,g,d,h){function l(b,a){this.message=b;this.code=a||1008}var a,e=[],n=0;c=Array.isArray(c)?c:[c];var p=Rx.d.create(function(b){var m=c[n++%c.length];a=new f.WebSocket(m);a.onmessage=function(a){b.a(a)};a.onclose=function(a){h&&h.a(a);b.g()};a.onerror=function(a){d&&d.a(a);b.h(a)};a.onopen=function(b){for(g&&g.a(b);e.length;)b=e.shift(),a.send(b)}}).k().i().j(),q=Rx.e.create(function(b){a.readyState===a.OPEN?a.send(b):e.push(b)},
function(b){if(a){var c="unknown",d=1008;"object"===typeof b?(c=b.message,+b.code===+b.code&&(d=+b.code)):"string"===typeof b&&(c=b);a.onerror(new l(c,d));a.close(d,c)}},function(){a.close()});return k.create(q,p)},config:f,b:1008,c:function(c,d){this.message=c;this.code=d||1008}};"function"===typeof define&&define.amd?define(function(){return d}):"undefined"!==typeof module&&module.exports?module.exports=d:"undefined"!==typeof this&&(this.RxSocketSubject=d)}).call(this);
