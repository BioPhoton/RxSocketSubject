(function(){function k(g,e){this.message=g;e&&(this.code=e)}function t(g,e,h){function l(b,c){a&&(h&&(h.a(),h.b()),b?a.close(b,c):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var m=window.WebSocket,a,f=new Rx.g(function(b){function c(){b.b()}function n(a){b.c(a)}function r(a){b.a(a)}function d(b){e.a(b);e.b();a.removeEventListener("open",d,!1)}a=new m(g);e&&a.addEventListener("open",d,!1);a.addEventListener("message",r,!1);a.addEventListener("error",
n,!1);a.addEventListener("close",c,!1);return function(){l();a.removeEventListener("message",r,!1);a.removeEventListener("error",n,!1);a.removeEventListener("close",c,!1)}}),d=Rx.e.create(function(b){a.readyState===m.OPEN&&a.send(b)},function(a){var c="unknown reason",d=1008;"string"===typeof a?c=a:"object"===typeof a&&(c=a.reason||a.message,d=a.code||d);l(d,c)},l);return Rx.f.create(d,f)}k.prototype={constructor:k,message:"",code:1008};var p=Rx.f,u=Rx.k,v=Rx.e,q={create:function(g,e,h,l,m,a){var f=
new p,d=new p,b=[],c=!1;f.d(function(a){c?d.a(a):b.push(a)},function(a){d.c(a)},function(){d.b()});var n=0;a=u.create(function(a){var f=Array.isArray(g)?g[n++%g.length]:g,f=t(f,v.create(function(a){c=!0;for(e&&e.a(a);0<b.length;)a=b.shift(),d.a(a)}),l),k=new Rx.j(f.d(function(b){a.a(b)},function(b){h&&h.a(b);c=!1;a.c(b)},function(){m&&m.a();c=!1;a.b()}),d.d(f));return function(){c=!1;k.dispose()}}).n(a).l().m();return p.create(f,a)},h:1008,i:k};"function"===typeof define&&define.amd?define(function(){return q}):
"undefined"!==typeof module&&module.exports?module.exports=q:"undefined"!==typeof this&&(this.RxSocketSubject=q)}).call(this);
