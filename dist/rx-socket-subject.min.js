(function(){function g(h,f){this.message=h;f&&(this.code=f)}function v(h,f,k,n){function l(b,c){a&&(k&&(k.a(),k.b()),b?a.close(b,c):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var p=window.WebSocket,a,r=new Rx.g(function(b){function c(a){n&&n.a(a);b.b()}function q(a){b.d(a)}function d(a){b.a(a)}function e(b){f.a(b);f.b();a.removeEventListener("open",e,!1)}a=new p(h);f&&a.addEventListener("open",e,!1);a.addEventListener("message",d,!1);a.addEventListener("error",
q,!1);a.addEventListener("close",c,!1);return function(){l();a.removeEventListener("message",d,!1);a.removeEventListener("error",q,!1);a.removeEventListener("close",c,!1)}}),d=Rx.e.create(function(b){a.readyState===p.OPEN&&a.send(b)},function(a){var c="unknown reason",d=1008;"string"===typeof a?c=a:"object"===typeof a&&(c=a.reason||a.message,d=a.code||d);l(d,c)},l);return Rx.f.create(d,r)}g.prototype={constructor:g,message:"",code:1008};var t=Rx.f,u=Rx.k,w=Rx.e,m={create:function(h,f,k,n,l,p){function a(){e||
(g=u.create(function(a){var e=Array.isArray(h)?h[q++%h.length]:h,e=v(e,w.create(function(a){c=!0;for(f&&f.a(a);0<b.length;)a=b.shift(),d.a(a)}),n,l),g=new Rx.j(e.c(function(b){a.a(b)},function(b){k&&k.a(b);c=!1;a.d(b)},function(){c=!1;a.b()}),d.c(e));return function(){c=!1;g.dispose()}}).n(p)["do"](function(){},function(){e=!1},function(){e=!1}).l().m(),e=!0);return g}var r=new t,d=new t,b=[],c=!1;r.c(function(a){c?d.a(a):b.push(a)},function(a){d.d(a)},function(){d.b()});var q=0,g,e=!1,m=u.create(function(b){return a().c(b)});
return t.create(r,m)},h:1008,i:g};"function"===typeof define&&define.amd?define(function(){return m}):"undefined"!==typeof module&&module.exports?module.exports=m:"undefined"!==typeof this&&(this.RxSocketSubject=m)}).call(this);
