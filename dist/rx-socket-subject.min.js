(function(){function d(g,e){this.message=g;e&&(this.code=e)}function v(g,e,f){function m(b,l){a&&(f&&(f.a(),f.b()),b?a.close(b,l):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var p=window.WebSocket,a,c=new Rx.g(function(b){function l(h){h.n&&1E3===h.code||b.c(h);b.b()}function k(h){b.c(h)}function c(h){b.a(h)}function f(b){e.a(b);e.b();a.removeEventListener("open",f,!1)}a=new p(g);e&&a.addEventListener("open",f,!1);a.addEventListener("message",
c,!1);a.addEventListener("error",k,!1);a.addEventListener("close",l,!1);return function(){m();a.removeEventListener("message",c,!1);a.removeEventListener("error",k,!1);a.removeEventListener("close",l,!1)}}),n=Rx.e.create(function(b){a.readyState===p.OPEN&&a.send(b)},function(b){var a="unknown reason",c=1008;"string"===typeof b?a=b:"object"===typeof b&&(a=b.reason||b.message,c=b.code||c);m(c,a)},m);return Rx.f.create(n,c)}d.prototype={constructor:d,message:"",code:1008};var r=Rx.f,u=Rx.k,w=Rx.e,t=
{create:function(g,e,f,m){function p(){q||(k=u.create(function(a){var d=Array.isArray(g)?g[l++%g.length]:g,d=v(d,w.create(function(a){b=!0;for(e&&e.a(a);0<n.length;)a=n.shift(),c.a(a)}),m),k=new Rx.j(d.d(function(b){a.a(b)},function(c){f&&f.a(c);b=!1;a.c(c)},function(){b=!1;a.b()}),c.d(d));return function(){b=!1;k.dispose()}})["do"](function(){},function(){q=!1},function(){q=!1}).l().m(),q=!0);return k}var a=new r,c=new r,n=[],b=!1;a.d(function(a){b?c.a(a):n.push(a)},function(a){c.c(a)},function(){c.b()});
var l=0,k,q=!1,d=u.create(function(a){return p().d(a)});return r.create(a,d)},h:1008,i:d};"function"===typeof define&&define.amd?define(function(){return t}):"undefined"!==typeof module&&module.exports?module.exports=t:"undefined"!==typeof this&&(this.RxSocketSubject=t)}).call(this);
