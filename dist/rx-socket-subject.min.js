(function(){function q(g,e){this.message=g;e&&(this.code=e)}function v(g,e,h,k){function l(b,c){a&&(k&&(k.a(),k.b()),b?a.close(b,c):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var f=window.WebSocket,a,n=new Rx.h(function(b){function c(a){a.p&&1E3===a.code||b.d(a);b.b()}function p(a){b.d(a)}function m(a){b.a(a)}function d(b){h.a(b);h.b();a.removeEventListener("open",d,!1)}a=e?new f(g,e):new f(g);h&&a.addEventListener("open",d,!1);a.addEventListener("message",
m,!1);a.addEventListener("error",p,!1);a.addEventListener("close",c,!1);return function(){l();a.removeEventListener("message",m,!1);a.removeEventListener("error",p,!1);a.removeEventListener("close",c,!1)}}),d=Rx.f.create(function(b){a.readyState===f.OPEN&&a.send(b)},function(a){var c="unknown reason",d=1008;"string"===typeof a?c=a:"object"===typeof a&&(c=a.reason||a.message,d=a.code||d);l(d,c)},l);return Rx.g.create(d,n)}q.prototype={constructor:q,message:"",code:1008};var r=Rx.g,u=Rx.k,w=Rx.f,t=
{create:function(g,e,h,k){function l(){c||(b=u.create(function(b){var c=new Rx.l,f=new Rx.e(c,g.map(function(b){var c,m=null;"string"===typeof b?c=b:b&&b.url&&(c=b.url,m=b.protocol);return v(c,m,w.create(function(b){d=!0;for(e&&e.a(b);0<n.length;)b=n.shift(),a.a(b)}),k)}).c(function(e){c.o(new Rx.e(e.c(function(a){b.a(a)},function(a){h&&h.a(a);d=!1;b.d(a)},function(){d=!1;b.b()}),a.c(e)))}));return function(){d=!1;f.dispose()}})["do"](function(){},function(){c=!1},function(){c=!1}).m().n(),c=!0);
return b}var f=new r,a=new r,n=[],d=!1;f.c(function(b){d?a.a(b):n.push(b)},function(b){a.d(b)},function(){a.b()});var b,c=!1,p=u.create(function(a){return l().c(a)});return r.create(f,p)},i:1008,j:q};"function"===typeof define&&define.amd?define(function(){return t}):"undefined"!==typeof module&&module.exports?module.exports=t:"undefined"!==typeof this&&(this.RxSocketSubject=t)}).call(this);
