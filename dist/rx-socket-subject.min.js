(function(){function d(g,e){this.message=g;e&&(this.code=e)}function w(g,e,f,p){function l(b,k){a&&(f&&(f.a(),f.b()),b?a.close(b,k):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var q=window.WebSocket,a,c=new Rx.g(function(b){function k(m){p&&p.a(m);b.b()}function h(m){b.d(m)}function c(m){b.a(m)}function f(b){e.a(b);e.b();a.removeEventListener("open",f,!1)}a=new q(g);e&&a.addEventListener("open",f,!1);a.addEventListener("message",c,!1);a.addEventListener("error",
h,!1);a.addEventListener("close",k,!1);return function(){l();a.removeEventListener("message",c,!1);a.removeEventListener("error",h,!1);a.removeEventListener("close",k,!1)}}),n=Rx.e.create(function(b){a.readyState===q.OPEN&&a.send(b)},function(b){var a="unknown reason",c=1008;"string"===typeof b?a=b:"object"===typeof b&&(a=b.reason||b.message,c=b.code||c);l(c,a)},l);return Rx.f.create(n,c)}d.prototype={constructor:d,message:"",code:1008};var t=Rx.f,v=Rx.k,x=Rx.e,u={create:function(g,e,f,p,l){function q(){r||
(h=v.create(function(a){var d=Array.isArray(g)?g[k++%g.length]:g,d=w(d,x.create(function(a){b=!0;for(e&&e.a(a);0<n.length;)a=n.shift(),c.a(a)}),p,l),h=new Rx.j(d.c(function(b){a.a(b)},function(c){f&&f.a(c);b=!1;a.d(c)},function(){b=!1;a.b()}),c.c(d));return function(){b=!1;h.dispose()}})["do"](function(){},function(){r=!1},function(){r=!1}).l().m(),r=!0);return h}var a=new t,c=new t,n=[],b=!1;a.c(function(a){b?c.a(a):n.push(a)},function(a){c.d(a)},function(){c.b()});var k=0,h,r=!1,d=v.create(function(a){return q().c(a)});
return t.create(a,d)},h:1008,i:d};"function"===typeof define&&define.amd?define(function(){return u}):"undefined"!==typeof module&&module.exports?module.exports=u:"undefined"!==typeof this&&(this.RxSocketSubject=u)}).call(this);
