(function(){function l(g,d){this.message=g;d&&(this.code=d)}function q(g,d,f){function m(b,e){a&&(f&&(f.a(),f.b()),b?a.close(b,e):a.close())}if(!window.WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var n=window.WebSocket,a,c=new Rx.g(function(b){function e(){b.b()}function c(a){b.c(a)}function f(a){b.a(a)}function h(b){d.a(b);d.b();a.removeEventListener("open",h,!1)}a=new n(g);d&&a.addEventListener("open",h,!1);a.addEventListener("message",f,!1);a.addEventListener("error",
c,!1);a.addEventListener("close",e,!1);return function(){m();a.removeEventListener("message",f,!1);a.removeEventListener("error",c,!1);a.removeEventListener("close",e,!1)}}),h=Rx.e.create(function(b){a.readyState===n.OPEN&&a.send(b)},function(a){var c="unknown reason",d=1008;"string"===typeof a?c=a:"object"===typeof a&&(c=a.reason||a.message,d=a.code||d);m(d,c)},m);return Rx.f.create(h,c)}l.prototype={constructor:l,message:"",code:1008};var p=Rx.f,t=Rx.k,u=Rx.e,k={create:function(g,d,f,m,n){var a=
new p,c=new p,h=[],b=!1,e=a.d(function(a){b?c.a(a):h.push(a)},function(a){c.c(a)},function(){c.b()}),l=0,k=t.create(function(a){var e=Array.isArray(g)?g[l++%g.length]:g,e=q(e,u.create(function(a){b=!0;for(d&&d.a(a);0<h.length;)a=h.shift(),c.a(a)}),m),k=new Rx.j(e.d(function(b){a.a(b)},function(c){f&&f.a(c);b=!1;a.c(c)},function(){n&&n.a();b=!1;a.b()}),c.d(e));return function(){b=!1;k.dispose()}}).n().l().m(),a=p.create(a,k),r=a.dispose;a.dispose=function(){c.dispose();e.dispose();return r()};return a},
h:1008,i:l};"function"===typeof define&&define.amd?define(function(){return k}):"undefined"!==typeof module&&module.exports?module.exports=k:"undefined"!==typeof this&&(this.RxSocketSubject=k)}).call(this);
